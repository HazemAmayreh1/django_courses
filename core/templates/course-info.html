<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Course Information: {{course.name}}</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link 
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css"/>
   
    {%load static%}
    <link rel="stylesheet" href="{% static 'css/course-info.css'%}" />
  </head>
  <body>
    {%include 'navbar.html'%}

    <div class="container mt-5">
      <div class="course-header">
        <img
          src="{{course.image.url}}"
          class="course-img"
          alt="Course Image"
        />
        <h2 id="courseName">{{course.name}}</h2>
      </div>
      <p id="courseDescription">{{course.description}}</p>
      <div class="mb-3">
        <strong>Instructor:</strong>
        <span id="courseInstructor">{{course.instractor}}</span><br />
        <strong>Prerequisites:</strong>
        {%for pre in course.prerequisites.all%}
        <a href="/course/{{pre.code}}" id="coursePrerequisites">{{pre.name}}</a
        ><br />
        {%endfor%}
        <strong>Capacity:</strong>
        <span id="courseCapacity">{{student_count}}/{{course.capacity}}</span>
      </div>
      <h4>Schedule</h4>
      <form id="scheduleForm">
        <table class="table">
          <thead>
            <tr>
              <th>Day</th>
              <th>Start Time</th>
              <th>End Time</th>
              <th>Room No</th>
            </tr>
          </thead>
          <tbody id="scheduleList">
            <tr>
              <td>
                {%for day in course.schedule_id.days.all%} {{day.name}}
                {%endfor%}
              </td>
              <td>{{course.schedule_id.start_time}}</td>
              <td>{{course.schedule_id.end_time}}</td>
              <td>{{course.schedule_id.room_no}}</td>
            </tr>
          </tbody>
        </table>
        {%if registered%}
        <a
        href="/delete-course/{{course.code}}"
          type="button"
          class="btn btn-danger"
        >
          Remove Course
      </a>
        {%else%}
        <a
        href="/add-course/{{course.code}}"
          type="button"
          class="btn btn-success"
        >
          Add Course
      </a>
        {%endif%}
      </form>
    </div>
  </body>
</html>
